# 통계학 4주차 정규과제

📌통계학 정규과제는 매주 정해진 분량의 『*데이터 분석가가 반드시 알아야 할 모든 것*』 을 읽고 학습하는 것입니다. 이번 주는 아래의 **Statistics_4th_TIL**에 나열된 분량을 읽고 `학습 목표`에 맞게 공부하시면 됩니다.

아래의 문제를 풀어보며 학습 내용을 점검하세요. 문제를 해결하는 과정에서 개념을 스스로 정리하고, 필요한 경우 추가자료와 교재를 다시 참고하여 보완하는 것이 좋습니다.

4주차는 `2부. 데이터 분석 준비하기`를 읽고 새롭게 배운 내용을 정리해주시면 됩니다.


## Statistics_4th_TIL

### 2부. 데이터 분석 준비하기
### 10. 데이터 탐색과 시각화
> EDA와 데이터 시각화를 분리할 필요가 있다! 시각화의 궁극적 목적은 커뮤니케이션이므로

## Study Schedule

|주차 | 공부 범위     | 완료 여부 |
|----|----------------|----------|
|1주차| 1부 p.2~56     | ✅      |
|2주차| 1부 p.57~79    | ✅      | 
|3주차| 2부 p.82~120   | ✅      | 
|4주차| 2부 p.121~202  | ✅      | 
|5주차| 2부 p.203~254  | 🍽️      | 
|6주차| 3부 p.300~356  | 🍽️      | 
|7주차| 3부 p.357~615  | 🍽️      | 

<!-- 여기까진 그대로 둬 주세요-->

```
✅ 학습 목표 :
* EDA의 목적을 설명할 수 있다.
* 주어진 데이터셋에서 이상치, 누락값, 분포 등을 식별하고 EDA 결과를 바탕으로 데이터셋의 특징을 해석할 수 있다.
* 공분산과 상관계수를 활용하여 두 변수 간의 관계를 해석할 수 있다.
* 적절한 시각화 기법을 선택하여 데이터의 특성을 효과적으로 전달할 수 있다.
```
## 10.1 탐색적 데이터 분석
```
EDA의 주요 목적
✅ 데이터의 형태와 척도가 분석에 알맞게 되어 있는지 확인인
✅ 데이터의 평균/분산/분포/패턴 등 확인 -> 특성 파악
✅ 데이터 결측값/이상치 파악 및 보완
✅ 변수 간 관계성 파악
✅ 분석 목적과 방향성 점검 및 보정정
```
```
# 패키지 임포트
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

df.head() # 샘플 확인
df.info() # 칼럼 속성 및 결측치 확인
df.describe() # 칼럼 통계치 확인

df.skew() # 칼럼 왜도 확인
df.kutosis() # 칼럼 척도 확인
-> 정규성이 필요한 경우 로그변환/정규화/표준화
```
```
sns.distplot(df['lead_time']) # 특정 칼럼 분포
sns.violinplot() # 분포 
sns.stripplot() # 각 관측치의 위치
```

## 10.2 공분산과 상관성 분석
> 각 변수의 특성을 파악한 후에는 변수 간의 관계를 파악해야 한다

### 공분산
- 두 분산의 관계
    - 0 : 상관관계가 없음
    - 양수 : 양의 상관관계
    - 음수 : 음의 상관관계
> 한계 : 각 변수 간 다른 척도기준 반영->공분산 값이 지니는 크기가 상관성의 정도를 나타내지 못함

### 상관계수
- 두 변수의 공분산을 두 변수가 변하는 전체 정도로 나눠준 것
- -1<=R<=1
    > 0.7 이상이면 상관관계가 매우 높다고 판단, 0.4 이상이면 어느 정도 상관관계가 있음
    ⚠️ 산점도의 기울기와 상관계수는 관련이 없고, 분산의 관계성이 같으면 기울기에 상관이 상관계수는 같음
![statweek_1](/git_stat/10.2.png)
> 기울기는 모두 다르지만 상관계수는 모두 1
> 즉 상관계수가 높다는 것은 한 변수가 움직일 때 다른 변수를 예상하는 정확도(설명력)가 높아진다는 것
- 두 변수의 선형관계만 측정할 수 있음
    - 2차 방정식 그래프와 같은 경우 상관계수가 매우 낮게 측정될 수 있음
    - 상관계수+다양한 시각화를 함께 사용할 것
![statweek_2](/git_stat/10.2.1.png)
```
sns.pairplot() # 산점도 행렬
df.cov() # 공분산
df.corr() # 상관계수
sns.heatmap(df.corr()) # 상관계수를 히트맵으로 시각화
sns.clustermap(df.corr()) # 히트맵+정확한 수치
```
![statweek_3](/git_stat/10.2.2.png)

## 10.3 시간 시각화
- 연속형 시간 시각화(초 단위 공정, 일년 간 일별 판매)
    - 선그래프
    - 추세선을 삽입하여 안정되게 표현
        - 이동평균 방법 사용
- 분절형 시간 시각화(일년 동안 월 간격 단위 흐름)
    - 막대그래프, 누적 막대그래프, 점 그래프
    - 값들의 상대적 차이 표현

```
df[새로운 컬럼명]=pd.to_datetime(df[바꾸고자 하는 컬럼명]) # 날짜 형식 변환
df_line['Month'] = df_line['Sales'].rolling(window=30).mean() # 30일 이동평균 생성
```

## 10.4 비교 시각화
> 데이터가 간단하면 막대그래프, 그룹과 비교 요소가 많으면 히트맵
1. 히트맵
- 하나의 변수(그룹) * N개의 각 변수에 해당하는 값들(수치형)
- 하나의 변수(그룹) * 하나의 변수(그룹/수준) * 하나의 변수(수준)
2. 방사형 차트
- 인덱스를 초기화하고 시작
- 눈금 및 그래프를 그리고 그 위에 차트 시각화
![statweek_4](/git_stat/10.4.png)
3. 평행 좌표 그래프
```
parallel_coordinates()
```
![statweek_5](/git_stat/10.4.1.png)

## 10.5 분포 시각화
1. 양적 척도
    - 막대그래프
    - 선그래프
    - 히스토그램(bin, density)
    ```
    plt.hist(df1, bins=10) # bins로 단위 조정
    plt.hist(df1, color='green', alpha=0.2) # alpha로 투명도 조정
    ```
2. 질적 척도
    - 파이차트
    - 도넛차트
    - 트리맵 차트
    - 와플 차트
    ![statweek_6](/git_stat/10.5.png)

## 10.6 관계 시각화
- scatter plot
    - 극단치를 제거하고 그리는 것이 좋음!
    - 데이터가 많아서 겹치는 경우 투명도를 주어 밀도를 다르게 표현
    - 두 개의 변수 간 관계만 표현 가능
        - 버블 차트는 세/네 가지 변수 
```
plt.scatterplot(df['a'],df['b'],s=50,alpha=0.4) # s로 크기, alpha로 투명도 조정
```

## 10.7 공간 시각화
1. 도트맵
2. 버블맵
    - 비율 비교에 효과적적
3. 코로플레스맵
    - 트리맵이랑 비슷하게 생겼다,, 그런데 실제 지도 기반이라 크기가 불규칙함
    ![statweek_7](/git_stat/10.7.png)
4. 커넥션맵
    - 지도의 점들을 연결하여 지리적 관계 표현
```
import folium
from folium import Marker # MarkerCluster() 함수를 사용하여 숫자 표현 가능능
from folium import plugins
from folium import GeoJson
import plotly.express as px
import plotly.graph_objects as go
```

## 10.8 박스 플롯
> 두 변수의 값을 비교할 때 효과적
1. 최솟값
2. 제1사분위
3. 제2사분위(중앙값)
4. 제3사분위
5. 최댓값
> 이상치는 원으로 표시
![statweek_8](/git_stat/10.8.png)
<br>
<br>

# 확인 문제

## 문제 1.
> **🧚 공분산과 상관계수의 차이점에 대해 간단히 설명하세요.**

```
공분산은 두 분산의 관계로, 변수 간 상관관계를 수치화한 것이기 때문에 상관성의 정도를 나타내지는 못함
상관계수는 공분산을 전체가 변하는 총량으로 나눈 것으로, 상관성의 정도를 비교할 수 있음
```

## 문제 2.
> **🧚 다음 데이터 분석 목표에 적합한 시각화 방법을 보기에서 모두 골라 연결해주세요.**

> 보기: 산점도, 선그래프, 막대그래프, 히스토그램, 박스플롯

(a) 변수의 분포 확인   
(b) 두 변수 간의 관계 확인   
(c) 집단별 평균 비교   
(d) 시계열 데이터 분석

<!--중복 가능-->

```
(a) 히스토그램, 박스플롯
(b) 산점도
(c) 막대그래프
(d) 선그래프
```


### 🎉 수고하셨습니다.